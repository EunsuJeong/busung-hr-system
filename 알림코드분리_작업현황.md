# ì•Œë¦¼ ì½”ë“œ ë¶„ë¦¬ ì‘ì—… í˜„í™©

## ì‘ì—… ëª©í‘œ
- App.jsì˜ ì•Œë¦¼ ê´€ë ¨ ì½”ë“œë¥¼ CommonNotification.jsë¡œ ë¶„ë¦¬
- ì½”ë“œ ëª¨ë“ˆí™” ë° ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ
- ë°ë“œì½”ë“œ ì œê±°

## ì™„ë£Œëœ ì‘ì—…

### 1. CommonNotification.js ìƒì„± âœ…
- ìœ„ì¹˜: `C:\hr-system\src\components\common\CommonNotification.js`
- Custom Hook í˜•íƒœë¡œ êµ¬í˜„ (useNotification)
- ì•Œë¦¼ ê´€ë ¨ ëª¨ë“  ìƒíƒœ ë° í•¨ìˆ˜ í¬í•¨

### 2. App.js ìˆ˜ì • âœ…
#### Import ì¶”ê°€ âœ…
```javascript
import useNotification from './components/common/CommonNotification';
```

#### ì•Œë¦¼ ìƒíƒœ ë³€ìˆ˜ë¥¼ Hookìœ¼ë¡œ êµì²´ âœ…
- 1534-1610 ë¼ì¸: ê¸°ì¡´ ìƒíƒœ ë³€ìˆ˜ë“¤ ì œê±°
- useNotification hook í˜¸ì¶œ ë° êµ¬ì¡°ë¶„í•´ í• ë‹¹ ì¶”ê°€

#### ì•Œë¦¼ ê´€ë ¨ í•¨ìˆ˜ ì œê±° (1ì°¨) âœ…
- 1760-1851 ë¼ì¸: cleanupExpiredNotifications, isRegularExpired ë“± ì œê±°
- 4119-4133 ë¼ì¸: employeeNotifications, readNotifications ìƒíƒœ ì œê±°
- 4637-4790 ë¼ì¸: handleAddRegularNotification, handleAddRealtimeNotification ì œê±°
- 4655-4828 ë¼ì¸: handleDeleteRegularNotification, handleEditRegularNotification,
  handleSaveRegularNotificationEdit, handleSaveRealtimeNotificationEdit,
  isExpired5Days, updateEmployeeNotifications ë“± ì œê±°

#### useEffect ì œê±° âœ…
- 1853-1875 ë¼ì¸: ì•Œë¦¼ ì´ˆê¸°í™” ë° í´ë¦°ì—… useEffect ìˆ˜ì •
- updateEmployeeNotifications í˜¸ì¶œ ì œê±°
- ì‚¬ìš©ì ë³€ê²½ ì‹œ readNotifications ì´ˆê¸°í™” useEffect ì œê±°

## ì§„í–‰ ì¤‘ì¸ ì‘ì—…

### 3. ë‚¨ì€ ì•Œë¦¼ í•¨ìˆ˜ ì œê±° (2ì°¨) ğŸ”„
ì•„ì§ ì œê±°í•´ì•¼ í•  í•¨ìˆ˜ë“¤:
- **4683-4746 ë¼ì¸**: getRecipientText, shouldReceiveNotification
- **4749-4763 ë¼ì¸**: repeatCycleOptions, recipientOptions, ìš”ì¼ëª©ë¡
- **4769-4908 ë¼ì¸**: openRecurringSettingsModal, closeRecurringSettingsModal,
  handleRecurringSettingsComplete, generateRecurringText, handleWeekdayToggle,
  handleEmployeeSearch
- **4909-4936 ë¼ì¸**: getê´€ë¦¬ìì•Œë¦¼ëª©ë¡
- **4939-4992 ë¼ì¸**: getí†µí•©ì•Œë¦¼ë¦¬ìŠ¤íŠ¸
- **4995-5092 ë¼ì¸**: calculateRecipientCount
- **5093-5200 ë¼ì¸**: getFilteredNotificationLogs
- **5723 ë¼ì¸**: addEmployeeToRecipients
- **6019 ë¼ì¸**: triggerAdminNotification, getNotificationTitle
- **8132 ë¼ì¸**: showUserNotification
- **9693 ë¼ì¸**: checkAccidentFreeNotification

## ë‚¨ì€ ì‘ì—…

### 4. ì•Œë¦¼ ê´€ë ¨ ë³€ìˆ˜ í™•ì¸ ë° ì •ë¦¬
- adminNotifications ìƒíƒœ í™•ì¸
- notifications ìƒíƒœ í™•ì¸
- employeeSearchTerm, searchResults ìƒíƒœ í™•ì¸

### 5. ìµœì¢… ê²€ì¦
- App.jsì—ì„œ useNotification hookì´ ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸
- AdminNotificationManagement ì»´í¬ë„ŒíŠ¸ props ì „ë‹¬ í™•ì¸
- StaffNotification ì»´í¬ë„ŒíŠ¸ props ì „ë‹¬ í™•ì¸

## ì°¸ê³  ì‚¬í•­

### ë‹¤ë¥¸ ê³³ì—ì„œë„ ì‚¬ìš©ë˜ëŠ” ì½”ë“œ (ë¶„ë¦¬ ë¶ˆê°€)
- `employees`: ì§ì› ë°ì´í„° (ì „ì—­ ì‚¬ìš©)
- `currentUser`: í˜„ì¬ ì‚¬ìš©ì ì •ë³´ (ì „ì—­ ì‚¬ìš©)
- `devLog`: ë¡œê¹… ìœ í‹¸ë¦¬í‹° (ì „ì—­ ì‚¬ìš©)
- `showLocalNotification`: Firebase í‘¸ì‹œ ì•Œë¦¼ (ì „ì—­ ì‚¬ìš©)

### ë°ë“œì½”ë“œ (ì£¼ì„ ì²˜ë¦¬ë¨)
- `handleCompleteRealtimeNotification` (4889-4902 ë¼ì¸)
- `handleDeleteRealtimeNotification` (4934-4938 ë¼ì¸)
- `handleEditRealtimeNotification` (4983-5019 ë¼ì¸)
â†’ ì´ë¯¸ ì£¼ì„ ì²˜ë¦¬ë˜ì–´ ìˆìœ¼ë¯€ë¡œ CommonNotification.jsì— í¬í•¨í•˜ì§€ ì•ŠìŒ

## íŒŒì¼ í¬ê¸° ë¬¸ì œ
- App.js: 15,976 ë¼ì¸ (ë§¤ìš° í¼)
- ì•Œë¦¼ ê´€ë ¨ í•¨ìˆ˜ë“¤ì´ ì—¬ëŸ¬ ìœ„ì¹˜ì— ë¶„ì‚°ë˜ì–´ ìˆìŒ
- ë‹¨ê³„ì ìœ¼ë¡œ ì œê±° ì¤‘

## ì‘ì—… ì˜ˆìƒ ì‹œê°„
- ì™„ë£Œ: ì•½ 70%
- ë‚¨ì€ ì‘ì—…: ì•½ 30% (ì£¼ìš” í•¨ìˆ˜ ì œê±° ë° ê²€ì¦)
