        return (
          <div className="space-y-4">
            {/* ìƒë‹¨: ì˜¤ëŠ˜ ì¶œê·¼í˜„í™© + ìŠ¹ì¸ëŒ€ê¸°í•¨ */}
            <div className="grid grid-cols-1 lg:grid-cols-2 gap-4">
              {/* BEGIN ADMIN - ì£¼ê°„/ì•¼ê°„ ì¶œê·¼í˜„í™© ë¶„ë¦¬ */}
              <div className="space-y-4">
                {/* ì£¼ê°„ ì¶œê·¼í˜„í™© */}
                <div className="bg-blue-50 border border-blue-200 rounded-xl p-4">
                  <div className="flex justify-between items-center mb-3">
                    <div className="flex items-center gap-3">
                      <h3 className="text-lg font-semibold text-blue-800">
                        {dashboardDateFilter === 'today'
                          ? getTodayDateWithDay()
                          : new Date(dashboardSelectedDate).toLocaleDateString(
                              'ko-KR',
                              {
                                month: 'long',
                                day: 'numeric',
                                weekday: 'short',
                              }
                            )}{' '}
                        ì£¼ê°„ ì¶œê·¼í˜„í™© (08:30-17:30)
                      </h3>
                      <span className="text-sm font-medium text-blue-600 bg-blue-100 px-3 py-1 rounded-full">
                        ì´ {dashboardStats.totalDayShift}ëª…
                      </span>
                    </div>
                    <div className="flex items-center gap-2">
                      <select
                        value={dashboardDateFilter}
                        onChange={(e) => setDashboardDateFilter(e.target.value)}
                        className="px-1 py-1 text-xs border border-blue-300 rounded bg-white text-blue-700"
                      >
                        <option value="today">ì˜¤ëŠ˜</option>
                        <option value="custom">ë‚ ì§œì„ íƒ</option>
                      </select>
                      {dashboardDateFilter === 'custom' && (
                        <input
                          type="date"
                          value={dashboardSelectedDate}
                          onChange={(e) =>
                            setDashboardSelectedDate(e.target.value)
                          }
                          className="px-1 py-1 text-xs border border-blue-300 rounded bg-white text-blue-700"
                        />
                      )}
                    </div>
                  </div>
                  <div className="grid grid-cols-4 gap-3">
                    <div
                      className="bg-white p-3 rounded-lg border border-blue-100 flex flex-col items-center cursor-pointer hover:bg-gray-50"
                      onClick={() => handleStatusClick('ì¶œê·¼')}
                    >
                      <span className="text-xs text-gray-700">ì¶œê·¼</span>
                      <span
                        className={`text-lg font-bold mt-1 ${getStatusTextColor(
                          'ì¶œê·¼'
                        )}`}
                      >
                        {dashboardStats.present}ëª…
                      </span>
                    </div>
                    <div
                      className="bg-white p-3 rounded-lg border border-blue-100 flex flex-col items-center cursor-pointer hover:bg-gray-50"
                      onClick={() => handleStatusClick('ì§€ê°')}
                    >
                      <span className="text-xs text-gray-700">ì§€ê°</span>
                      <span
                        className={`text-lg font-bold mt-1 ${getStatusTextColor(
                          'ì§€ê°'
                        )}`}
                      >
                        {dashboardStats.late}ëª…
                      </span>
                    </div>
                    <div
                      className="bg-white p-3 rounded-lg border border-blue-100 flex flex-col items-center cursor-pointer hover:bg-gray-50"
                      onClick={() => handleStatusClick('ê²°ê·¼')}
                    >
                      <span className="text-xs text-gray-700">ê²°ê·¼</span>
                      <span
                        className={`text-lg font-bold mt-1 ${getStatusTextColor(
                          'ê²°ê·¼'
                        )}`}
                      >
                        {dashboardStats.absent}ëª…
                      </span>
                    </div>
                    <div
                      className="bg-white p-3 rounded-lg border border-blue-100 flex flex-col items-center cursor-pointer hover:bg-gray-50"
                      onClick={() => handleStatusClick('ì—°ì°¨')}
                    >
                      <span className="text-xs text-gray-700">ì—°ì°¨</span>
                      <span
                        className={`text-lg font-bold mt-1 ${getStatusTextColor(
                          'ì—°ì°¨'
                        )}`}
                      >
                        {dashboardStats.leave}ëª…
                      </span>
                    </div>
                  </div>
                </div>

                {/* ì•¼ê°„ ì¶œê·¼í˜„í™© */}
                <div className="bg-purple-50 border border-purple-200 rounded-xl p-4">
                  <div className="flex justify-between items-center mb-3">
                    <div className="flex items-center gap-3">
                      <h3 className="text-lg font-semibold text-purple-800">
                        {dashboardDateFilter === 'today'
                          ? `${getYesterdayDateWithDay()} ì¶œê·¼ â†’ ${getTodayDateWithDay()} ì•¼ê°„ ê·¼ë¬´í˜„í™© (19:00-04:00)`
                          : (() => {
                              const selectedDate = new Date(
                                dashboardSelectedDate
                              );
                              const prevDate = new Date(selectedDate);
                              prevDate.setDate(selectedDate.getDate() - 1);
                              return `${prevDate.toLocaleDateString('ko-KR', {
                                month: 'long',
                                day: 'numeric',
                                weekday: 'short',
                              })} ì¶œê·¼ â†’ ${selectedDate.toLocaleDateString(
                                'ko-KR',
                                {
                                  month: 'long',
                                  day: 'numeric',
                                  weekday: 'short',
                                }
                              )} ì•¼ê°„ ê·¼ë¬´í˜„í™© (19:00-04:00)`;
                            })()}
                      </h3>
                      <span className="text-sm font-medium text-purple-600 bg-purple-100 px-3 py-1 rounded-full">
                        ì´ {dashboardStats.totalNightShift}ëª…
                      </span>
                    </div>
                    <div className="flex items-center gap-2">
                      <select
                        value={dashboardDateFilter}
                        onChange={(e) => setDashboardDateFilter(e.target.value)}
                        className="px-2 py-1 text-xs border border-purple-300 rounded bg-white text-purple-700"
                      >
                        <option value="today">ì˜¤ëŠ˜</option>
                        <option value="custom">ë‚ ì§œì„ íƒ</option>
                      </select>
                      {dashboardDateFilter === 'custom' && (
                        <input
                          type="date"
                          value={dashboardSelectedDate}
                          onChange={(e) =>
                            setDashboardSelectedDate(e.target.value)
                          }
                          className="px-2 py-1 text-xs border border-purple-300 rounded bg-white text-purple-700"
                        />
                      )}
                    </div>
                  </div>
                  <div className="grid grid-cols-4 gap-3">
                    <div
                      className="bg-white p-3 rounded-lg border border-purple-100 flex flex-col items-center cursor-pointer hover:bg-gray-50"
                      onClick={() => handleNightStatusClick('ì¶œê·¼')}
                    >
                      <span className="text-xs text-gray-700">ì¶œê·¼</span>
                      <span
                        className={`text-lg font-bold mt-1 ${getStatusTextColor(
                          'ì¶œê·¼'
                        )}`}
                      >
                        {dashboardStats.nightPresent}ëª…
                      </span>
                    </div>
                    <div
                      className="bg-white p-3 rounded-lg border border-purple-100 flex flex-col items-center cursor-pointer hover:bg-gray-50"
                      onClick={() => handleNightStatusClick('ì§€ê°')}
                    >
                      <span className="text-xs text-gray-700">ì§€ê°</span>
                      <span
                        className={`text-lg font-bold mt-1 ${getStatusTextColor(
                          'ì§€ê°'
                        )}`}
                      >
                        {dashboardStats.nightLate}ëª…
                      </span>
                    </div>
                    <div
                      className="bg-white p-3 rounded-lg border border-purple-100 flex flex-col items-center cursor-pointer hover:bg-gray-50"
                      onClick={() => handleNightStatusClick('ê²°ê·¼')}
                    >
                      <span className="text-xs text-gray-700">ê²°ê·¼</span>
                      <span
                        className={`text-lg font-bold mt-1 ${getStatusTextColor(
                          'ê²°ê·¼'
                        )}`}
                      >
                        {dashboardStats.nightAbsent}ëª…
                      </span>
                    </div>
                    <div
                      className="bg-white p-3 rounded-lg border border-purple-100 flex flex-col items-center cursor-pointer hover:bg-gray-50"
                      onClick={() => handleNightStatusClick('ì—°ì°¨')}
                    >
                      <span className="text-xs text-gray-700">ì—°ì°¨</span>
                      <span
                        className={`text-lg font-bold mt-1 ${getStatusTextColor(
                          'ì—°ì°¨'
                        )}`}
                      >
                        {dashboardStats.nightLeave}ëª…
                      </span>
                    </div>
                  </div>
                </div>
              </div>
              {/* END ADMIN */}
              {/* ìŠ¹ì¸ëŒ€ê¸°í•¨ */}
              <div className="bg-white border border-blue-200 rounded-xl p-4 flex flex-col justify-between">
                <h3 className="text-lg font-semibold text-blue-800 mb-3">
                  ìŠ¹ì¸ëŒ€ê¸°í•¨
                </h3>
                <div className="flex flex-row gap-4 w-full h-full">
                  {/* BEGIN ADMIN - í´ë¦­ ë„¤ë¹„ê²Œì´ì…˜ ì¶”ê°€ */}
                  {/* ì—°ì°¨ ìŠ¹ì¸ëŒ€ê¸° */}
                  <div
                    className="flex-1 flex flex-col items-center justify-center bg-blue-100 rounded-lg p-6 cursor-pointer hover:bg-blue-200 transition-colors"
                    onClick={() => {
                      setActiveTab('leave-management');
                      setLeaveManagementTab('leave-history');
                    }}
                  >
                    <span className="text-2xl font-bold text-blue-900 mb-1">
                      ì—°ì°¨
                    </span>
                    <span className="text-5xl font-extrabold text-blue-700">
                      {
                        leaveRequests.filter((lr) => lr.status === 'ëŒ€ê¸°')
                          .length
                      }
                      ê±´
                    </span>
                  </div>
                  {/* ê±´ì˜ ì‚¬í•­ ìŠ¹ì¸ëŒ€ê¸° */}
                  <div
                    className="flex-1 flex flex-col items-center justify-center bg-blue-100 rounded-lg p-6 cursor-pointer hover:bg-blue-200 transition-colors"
                    onClick={() => setActiveTab('suggestion-management')}
                  >
                    <span className="text-2xl font-bold text-blue-900 mb-1">
                      ê±´ì˜ ì‚¬í•­
                    </span>
                    <span className="text-5xl font-extrabold text-blue-700">
                      {suggestions.filter((s) => s.status === 'ëŒ€ê¸°').length}ê±´
                    </span>
                  </div>
                  {/* END ADMIN */}
                </div>
              </div>
            </div>
            {/* ì¤‘ë‹¨: ëª©í‘œë‹¬ì„±ë¥  + ì›Œë¼ë°¸/ì•ˆì „/êµìœ¡ í˜„í™© */}
            <div className="grid grid-cols-1 lg:grid-cols-3 gap-4">
              {/* ëª©í‘œë‹¬ì„±ë¥  */}
              <div className="bg-white border border-gray-200 rounded-xl p-4 flex flex-col justify-between">
                <div className="flex justify-between items-center mb-3">
                  <h3 className="text-lg font-semibold">ì´ë²ˆë‹¬ ëª©í‘œë‹¬ì„±ë¥ </h3>
                  <button
                    onClick={() => {
                      setSelectedYear(new Date().getFullYear());
                      setShowGoalDetailsPopup(true);
                    }}
                    className="text-blue-600 hover:text-blue-800 text-xs font-medium transition-colors"
                  >
                    ë” ë³´ê¸°
                  </button>
                </div>
                <div className="space-y-2">
                  <div className="flex justify-between">
                    <span className="text-sm text-gray-700">ì¶œê·¼ë¥ :</span>
                    <span
                      className={`font-bold ${
                        goalStats.attendanceRate >= 95
                          ? 'text-green-600'
                          : 'text-red-600'
                      }`}
                    >
                      {goalStats.attendanceRate}%
                    </span>
                  </div>
                  <div className="flex justify-between">
                    <span className="text-sm text-gray-700">ì§€ê°ë¥ :</span>
                    <span
                      className={`font-bold ${
                        goalStats.lateRate <= 5
                          ? 'text-green-600'
                          : 'text-red-600'
                      }`}
                    >
                      {goalStats.lateRate}%
                    </span>
                  </div>
                  <div className="flex justify-between">
                    <span className="text-sm text-gray-700">ê²°ê·¼ë¥ :</span>
                    <span
                      className={`font-bold ${
                        goalStats.absentRate <= 5
                          ? 'text-green-600'
                          : 'text-red-600'
                      }`}
                    >
                      {goalStats.absentRate}%
                    </span>
                  </div>
                  <div className="flex justify-between">
                    <span className="text-sm text-gray-700">í‡´ì‚¬ìœ¨:</span>
                    <span
                      className={`font-bold ${
                        goalStats.turnoverRate <= 5
                          ? 'text-green-600'
                          : 'text-red-600'
                      }`}
                    >
                      {goalStats.turnoverRate}%
                    </span>
                  </div>
                </div>
              </div>
              {/* ì¤‘ë‹¨: ì›Œë¼ë°¸/ì•ˆì „/êµìœ¡ í˜„í™© */}
              {/* ì›Œë¼ë°¸ ì§€í‘œ */}
              <div className="bg-white border border-gray-200 rounded-xl p-4 flex flex-col justify-between">
                <div className="flex justify-between items-center mb-3">
                  <h4 className="text-lg font-semibold">ì›Œë¼ë°¸ ì§€í‘œ</h4>
                  <button
                    onClick={() => {
                      setSelectedYear(new Date().getFullYear());
                      setShowWorkLifeBalancePopup(true);
                    }}
                    className="text-blue-600 hover:text-blue-800 text-xs font-medium transition-colors"
                  >
                    ë” ë³´ê¸°
                  </button>
                </div>
                <div className="space-y-2">
                  <div className="flex justify-between">
                    <span className="text-sm text-gray-700">í‰ê·  íŠ¹ê·¼ì‹œê°„</span>
                    <span
                      className={`font-bold ${
                        workLifeBalanceStats.averageOvertimeHours > 2
                          ? 'text-red-600'
                          : workLifeBalanceStats.averageOvertimeHours > 1
                          ? 'text-orange-600'
                          : 'text-green-600'
                      }`}
                    >
                      {workLifeBalanceStats.averageOvertimeHours}ì‹œê°„
                    </span>
                  </div>
                  <div className="flex justify-between">
                    <span className="text-sm text-gray-700">ì—°ì°¨ ì‚¬ìš©ë¥ </span>
                    <span
                      className={`font-bold ${
                        workLifeBalanceStats.leaveUsageRate > 70
                          ? 'text-green-600'
                          : workLifeBalanceStats.leaveUsageRate > 50
                          ? 'text-orange-600'
                          : 'text-red-600'
                      }`}
                    >
                      {workLifeBalanceStats.leaveUsageRate}%
                    </span>
                  </div>
                  <div className="flex justify-between">
                    <span className="text-sm text-gray-700">
                      ì£¼ 52ì‹œê°„ ìœ„ë°˜ ({new Date().getFullYear()}-
                      {String(new Date().getMonth() + 1).padStart(2, '0')})
                    </span>
                    <span
                      className={`font-bold ${
                        workLifeBalanceStats.weekly52HoursViolation > 0
                          ? 'text-red-600'
                          : 'text-green-600'
                      }`}
                    >
                      {workLifeBalanceStats.weekly52HoursViolation}%
                    </span>
                  </div>
                  <div className="flex justify-between">
                    <span className="text-sm text-gray-700">ìŠ¤íŠ¸ë ˆìŠ¤ ì§€ìˆ˜</span>
                    <span
                      className={`font-bold ${
                        workLifeBalanceStats.stressIndex > 70
                          ? 'text-red-600'
                          : workLifeBalanceStats.stressIndex > 50
                          ? 'text-orange-600'
                          : 'text-green-600'
                      }`}
                    >
                      {workLifeBalanceStats.stressIndex}ì 
                    </span>
                  </div>
                </div>
              </div>
              {/* ì•ˆì „ í˜„í™© */}
              <div className="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                <div className="flex items-center justify-between mb-3">
                  <h4 className="text-lg font-semibold">ì•ˆì „ í˜„í™©</h4>
                  <button
                    className="font-bold text-blue-500 text-xs hover:text-blue-600"
                    onClick={() => setShowSafetyAccidentInput(true)}
                  >
                    ì•ˆì „ì‚¬ê³  ëª©ë¡/ì…ë ¥
                  </button>
                </div>
                <div className="space-y-2">
                  <div className="flex justify-between">
                    <span className="text-sm text-gray-700">ê¸ˆì¼ ì•ˆì „ì‚¬ê³ </span>
                    <span
                      className={`font-bold ${
                        getTodaySafetyAccidents() > 0
                          ? 'text-red-600'
                          : 'text-green-600'
                      }`}
                    >
                      {getTodaySafetyAccidents()}ê±´
                    </span>
                  </div>
                  <div className="flex justify-between">
                    <span className="text-sm text-gray-700">ê¸ˆì›” ì•ˆì „ì‚¬ê³ </span>
                    <span
                      className={`font-bold ${
                        getThisMonthSafetyAccidents() > 0
                          ? 'text-orange-600'
                          : 'text-green-600'
                      }`}
                    >
                      {getThisMonthSafetyAccidents()}ê±´
                    </span>
                  </div>
                  <div className="flex justify-between">
                    <span className="text-sm text-gray-700">ê¸ˆë…„ ì•ˆì „ì‚¬ê³ </span>
                    <span
                      className={`font-bold ${
                        getThisYearSafetyAccidents() > 5
                          ? 'text-red-600'
                          : getThisYearSafetyAccidents() > 0
                          ? 'text-orange-600'
                          : 'text-green-600'
                      }`}
                    >
                      {getThisYearSafetyAccidents()}ê±´
                    </span>
                  </div>
                  <div className="flex justify-between">
                    <span className="text-sm text-gray-700">ë¬´ì‚¬ê³  ì¼ìˆ˜</span>
                    <span
                      className={`font-bold ${
                        getAccidentFreeDays() > 100
                          ? 'text-green-600'
                          : getAccidentFreeDays() > 30
                          ? 'text-blue-600'
                          : 'text-orange-600'
                      }`}
                    >
                      {getAccidentFreeDays()}ì¼
                    </span>
                  </div>
                </div>
              </div>
            </div>
            {/* í•˜ë‹¨: AI ì¶”ì²œì‚¬í•­ */}
            <div className="bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl p-6 border border-purple-200">
              <div className="flex items-center justify-between mb-4">
                <div className="flex items-center">
                  <Settings className="w-6 h-6 text-purple-600 mr-3" />
                  <h3 className="text-lg font-semibold text-purple-800">
                    AI ì¶”ì²œì‚¬í•­
                  </h3>
                  <div className="flex items-center ml-4 space-x-3 text-xs">
                    <div className="flex items-center">
                      <div className="w-2 h-2 bg-red-500 rounded-full mr-1"></div>
                      <span className="text-gray-600">ìœ„í—˜</span>
                    </div>
                    <div className="flex items-center">
                      <div className="w-2 h-2 bg-yellow-500 rounded-full mr-1"></div>
                      <span className="text-gray-600">ì£¼ì˜</span>
                    </div>
                    <div className="flex items-center">
                      <div className="w-2 h-2 bg-blue-500 rounded-full mr-1"></div>
                      <span className="text-gray-600">ì¶”ì²œ</span>
                    </div>
                    <div className="flex items-center">
                      <div className="w-2 h-2 bg-green-500 rounded-full mr-1"></div>
                      <span className="text-gray-600">ì¹­ì°¬</span>
                    </div>
                  </div>
                </div>
                <div className="flex items-center space-x-2">
                  {aiRecommendations.length > 0 && (
                    <button
                      onClick={generateAiRecommendations}
                      disabled={isAnalyzing}
                      className="flex items-center space-x-2 px-3 py-2 bg-purple-100 hover:bg-purple-200 disabled:bg-gray-100 text-purple-800 text-sm rounded-lg"
                    >
                      <span>{isAnalyzing ? 'ë¶„ì„ ì¤‘...' : 'ğŸ”„ ë‹¤ì‹œ ë¶„ì„'}</span>
                    </button>
                  )}
                  <button
                    onClick={() => setShowAiHistoryPopup(true)}
                    className="flex items-center space-x-2 px-3 py-2 bg-blue-100 hover:bg-blue-200 rounded-lg text-sm text-blue-800"
                  >
                    <FileText className="w-4 h-4" />
                    <span>ê¸°ë¡</span>
                  </button>
                  <button
                    onClick={() => setShowPromptSettings(true)}
                    className="flex items-center space-x-2 px-3 py-2 bg-purple-100 hover:bg-purple-200 rounded-lg text-sm text-purple-800"
                  >
                    <Settings className="w-4 h-4" />
                    <span>ì„¤ì •</span>
                  </button>
                </div>
              </div>
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                {isAnalyzing ? (
                  <div className="col-span-2 text-center py-8">
                    <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500 mx-auto mb-4"></div>
                    <p className="text-gray-500">AI ë°ì´í„° ë¶„ì„ ì¤‘...</p>
                  </div>
                ) : aiRecommendations.length > 0 ? (
                  aiRecommendations.map((rec, index) => (
                    <div
                      key={index}
                      className="bg-white p-4 rounded-lg border border-purple-100"
                    >
                      <div className="flex items-start">
                        <div
                          className={`w-2 h-2 bg-${rec.color}-500 rounded-full mt-2 mr-3 flex-shrink-0`}
                        ></div>
                        <div>
                          <p className="text-sm font-medium text-gray-800">
                            {rec.title}
                          </p>
                          <p className="text-xs text-gray-600 mt-1">
                            {rec.description}
                          </p>
                        </div>
                      </div>
                    </div>
                  ))
                ) : (
                  <div className="col-span-2 text-center py-8">
                    <p className="text-gray-500">
                      AI ë¶„ì„ì„ ì‹¤í–‰í•˜ì‹œë ¤ë©´ ìœ„ì˜ 'ë‹¤ì‹œ ë¶„ì„' ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.
                    </p>
                  </div>
                )}
              </div>
            </div>
          </div>
        );
