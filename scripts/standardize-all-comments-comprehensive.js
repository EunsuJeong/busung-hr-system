const fs = require('fs');
const path = require('path');

console.log('========================================');
console.log('  App.js 119~1994ì¤„ ì£¼ì„ ì™„ì „ í‘œì¤€í™”');
console.log('========================================\n');

const appPath = path.join(__dirname, '../src/App.js');
const backupPath = path.join(__dirname, '../src/App.js.backup.' + Date.now());

// ë°±ì—… ìƒì„±
console.log('ðŸ’¾ ë°±ì—… ìƒì„± ì¤‘...');
fs.copyFileSync(appPath, backupPath);
console.log('âœ“ ë°±ì—…: ' + backupPath + '\n');

// íŒŒì¼ ì½ê¸°
const content = fs.readFileSync(appPath, 'utf8');
const lines = content.split('\n');
console.log('ðŸ“„ ì´ ë¼ì¸ ìˆ˜: ' + lines.length + '\n');

console.log('ðŸ”„ ëª¨ë“  ì£¼ì„ í‘œì¤€í™” ì¤‘...\n');

let changeCount = 0;

// ì£¼ì„ ë³€í™˜ ê·œì¹™ (ë¼ì¸ë³„)
const commentRules = {
  // 1_ê³µí†µ
  122: { old: 'ê°œë°œ ë¡œê·¸ ìœ í‹¸ (í”„ë¡œë•ì…˜ì—ì„œëŠ” ì¶œë ¥ ì•ˆ í•¨)', new: '// *1_ê³µí†µ_ê°œë°œ ë¡œê·¸ ìœ í‹¸*' },
  128: { old: 'ê³µí†µ ìƒìˆ˜', new: '// *1_ê³µí†µ_API ìƒìˆ˜*' },
  132: { old: 'CommonAIServiceì—ì„œ import', new: '' }, // ì œê±°
  156: { old: 'ì•ˆì „í•œ ìˆ«ìž í¬ë§·íŒ… í•¨ìˆ˜', new: '// *1_ê³µí†µ_ìˆ«ìž í¬ë§·íŒ…*' },
  168: { old: 'ì‹¤ì‹œê°„ í•œêµ­ ê³µíœ´ì¼ ë°ì´í„° ê´€ë¦¬', new: '// *1_ê³µí†µ_ê³µíœ´ì¼ ë°ì´í„°*' },
  172: { old: 'ì»¤ìŠ¤í…€ ê³µíœ´ì¼ ê´€ë¦¬', new: '// *1_ê³µí†µ_ì»¤ìŠ¤í…€ ê³µíœ´ì¼*' },
  183: { old: 'ê³µíœ´ì¼ ë°ì´í„° ë¡œë“œ í•¨ìˆ˜', new: '// *1_ê³µí†µ_ê³µíœ´ì¼ ë°ì´í„° ë¡œë“œ*' },
  215: { old: 'ì•± ì‹œìž‘ì‹œ í™•ìž¥ëœ ì—°ë„ ë²”ìœ„ ê³µíœ´ì¼ ë¯¸ë¦¬ ë¡œë“œ ë° ì£¼ê¸°ì  ì—…ë°ì´íŠ¸ ì‹œìž‘', new: '// *1_ê³µí†µ_ê³µíœ´ì¼ ì‹œìŠ¤í…œ ì´ˆê¸°í™”*' },
  273: { old: 'ê³µíœ´ì¼ ë°ì´í„° ê°•ì œ ìƒˆë¡œê³ ì¹¨ í•¨ìˆ˜', new: '// *1_ê³µí†µ_ê³µíœ´ì¼ ê°•ì œ ìƒˆë¡œê³ ì¹¨*' },
  353: { old: 'í…Œì´ë¸” ì…€ ì„ íƒ ê´€ë¦¬ (ê°œì„ ëœ ë²„ì „)', new: '// *1_ê³µí†µ_í…Œì´ë¸” ì…€ ì„ íƒ*' },
  505: { old: 'CommonWorkTimeStandardsì—ì„œ importí•œ í•¨ìˆ˜ë“¤ì„ ì‚¬ìš©í•˜ì—¬ COMPANY_WAGE_RULES ìƒì„±', new: '// *1_ê³µí†µ_ê¸‰ì—¬ ê·œì¹™ ìƒì„±*' },
  508: { old: 'ê³µíœ´ì¼ íŒì • í•¨ìˆ˜ (ì‹¤ì‹œê°„ ë°ì´í„° ë°˜ì˜ + ì»¤ìŠ¤í…€ ê³µíœ´ì¼ í¬í•¨)', new: '// *1_ê³µí†µ_ê³µíœ´ì¼ íŒì •*' },
  539: { old: 'ì¼ì¼ ê¸‰ì—¬ ê³„ì‚° wrapper í•¨ìˆ˜ (CommonWorkTimeStandardsì˜ calcDailyWageBase ì‚¬ìš©)', new: '// *1_ê³µí†µ_ì¼ì¼ ê¸‰ì—¬ ê³„ì‚°*' },
  558: { old: 'ì§ê¸‰/ê¸‰ì—¬í˜•íƒœì— ë”°ë¥¸ ê·¼ë¬´ì‹œê°„ ë¶„ë¥˜ í•¨ìˆ˜ (CommonWorkTimeStandards wrapper)', new: '// *1_ê³µí†µ_ê·¼ë¬´ì‹œê°„ ë¶„ë¥˜*' },
  573: { old: 'ì›”ê°„ ê¸‰ì—¬ ê³„ì‚° wrapper í•¨ìˆ˜ (CommonWorkTimeStandardsì˜ calcMonthlyWageBase ì‚¬ìš©)', new: '// *1_ê³µí†µ_ì›”ê°„ ê¸‰ì—¬ ê³„ì‚°*' },

  // 2_ê´€ë¦¬ìž ëª¨ë“œ
  633: { old: 'í‰ê°€ ê´€ë¦¬ íŽ¸ì§‘ ìƒíƒœ', new: '// *2.10_í‰ê°€ ê´€ë¦¬ íŽ¸ì§‘ ìƒíƒœ*' },
  637: { old: 'ì•ˆì „ì‚¬ê³  ì¸ë¼ì¸ íŽ¸ì§‘ ìƒíƒœ', new: '// *2.10_ì•ˆì „ì‚¬ê³  íŽ¸ì§‘ ìƒíƒœ*' },
  644: { old: 'í‰ê°€ê´€ë¦¬ ìž…ë ¥ í¼ ìƒíƒœ', new: '// *2.10_í‰ê°€ ìž…ë ¥ í¼*' },
  660: { old: '  const [showAllNotificationLogs, setShowAllNotificationLogs] = useState(false); // ì•Œë¦¼ ë¡œê·¸ ë”ë³´ê¸° ìƒíƒœ', new: '  const [showAllNotificationLogs, setShowAllNotificationLogs] = useState(false);' },
  662: { old: 'ì•Œë¦¼ ë¡œê·¸ ê²€ìƒ‰ ìƒíƒœ', new: '// *2.4_ì•Œë¦¼ ë¡œê·¸ ê²€ìƒ‰*' },
  671: { old: 'ì¼ì • ê´€ë¦¬ ê²€ìƒ‰ ìƒíƒœ', new: '// *2.5_ì¼ì • ê²€ìƒ‰*' },
  684: { old: 'í†µí•© ì•Œë¦¼ ì¶”ê°€ ìƒíƒœ', new: '// *2.4_í†µí•© ì•Œë¦¼ ì¶”ê°€*' },
  719: { old: 'ë°˜ë³µ ì„¤ì • ëª¨ë‹¬ ìƒíƒœ', new: '// *2.4_ë°˜ë³µ ì„¤ì • ëª¨ë‹¬*' },
  732: { old: "  const [currentFormType, setCurrentFormType] = useState(''); // 'regular' ë˜ëŠ” 'realtime'", new: "  const [currentFormType, setCurrentFormType] = useState('');" },
  741: { old: 'ë©”ì¸ ì½˜í…ì¸  ìŠ¤í¬ë¡¤ ref (ë©”ë‰´ ì´ë™ ì‹œ ìµœìƒë‹¨ ë³µê·€ìš©)', new: '// *2.0_ìŠ¤í¬ë¡¤ ref*' },
  744: { old: 'íƒ­ ë³€ê²½ í•¨ìˆ˜ (localStorage ìžë™ ì €ìž¥)', new: '// *2.0_íƒ­ ë³€ê²½*' },
  750: { old: 'ë©”ë‰´ ì´ë™ ì‹œ ìžë™ìœ¼ë¡œ ìŠ¤í¬ë¡¤ ìµœìƒë‹¨ ë³µê·€ (ì¦‰ì‹œ)', new: '// *2.0_ìŠ¤í¬ë¡¤ ìµœìƒë‹¨ ë³µê·€*' },
  761: { old: 'í†µí•©ëœ íƒ­ë³„ ìƒíƒœ ì´ˆê¸°í™” - ì„±ëŠ¥ ìµœì í™”', new: '// *2.0_íƒ­ë³„ ìƒíƒœ ì´ˆê¸°í™”*' },
  804: { old: 'ëŒ€ì‹œë³´ë“œ ì£¼ê°„/ì•¼ê°„ ì¶œê·¼í˜„í™© ì‹¤ì‹œê°„ ì—°ë™', new: '// *2.1_ëŒ€ì‹œë³´ë“œ ì¶œê·¼í˜„í™© ì—°ë™*' },
  826: { old: '[2] ë‹¤ë¥¸ ë©”ë‰´ ì§„ìž… ì‹œ ì•Œë¦¼ ë¡œê·¸ ë Œë”ë§ ì´ˆê¸°í™” (ëŒ€ì‹œë³´ë“œ, ê³µì§€, ì¼ì •, ê¸‰ì—¬)', new: '// *2.1_ì•Œë¦¼ ë¡œê·¸ ì´ˆê¸°í™”*' },
  845: { old: '[5] 52ì‹œê°„ ìœ„ë°˜ ë°ì´í„° - ì´ˆê¸° ë¡œë“œë§Œ ìˆ˜í–‰ (ìžë™ ê°±ì‹  ì œê±°ë¡œ ì„±ëŠ¥ ê°œì„ )', new: '// *2.1_52ì‹œê°„ ìœ„ë°˜ ì´ˆê¸°í™”*' },
  848: { old: 'âœ… ë¡œê·¸ì¸ ì‹œ ìžë™ íŒì—… ë°©ì§€ (ìž¬ë¡œê·¸ì¸ ì‹œ ê³µì§€Â·ì•Œë¦¼ íŒì—…ì´ ìžë™ í‘œì‹œë˜ì§€ ì•Šë„ë¡)', new: '// *1_ê³µí†µ_íŒì—… ì´ˆê¸°í™”*' },
  856: { old: 'í†µí•©ëœ ì´ˆê¸°í™” ë° ë°ì´í„° ë¡œë”© - ì„±ëŠ¥ ìµœì í™”', new: '// *1_ê³µí†µ_ì•Œë¦¼ ì´ˆê¸°í™”*' },
  857: { old: 'ì•Œë¦¼ ì •ê¸° í´ë¦°ì—… í•¨ìˆ˜', new: '' }, // ì œê±°
  888: { old: '[1] ì¢…ë£Œ ë‹¤ìŒë‚  00ì‹œ ë§Œë£Œ íŒë‹¨', new: '// *2.4_ì •ê¸° ì•Œë¦¼ ë§Œë£Œ íŒì •*' },
  897: { old: 'ì•Œë¦¼ ë¡œê·¸ 3ë…„ ì´ˆê³¼ ì²´í¬ í•¨ìˆ˜', new: '// *2.4_ì•Œë¦¼ ë¡œê·¸ 3ë…„ ì²´í¬*' },
  910: { old: 'ì•Œë¦¼ ë¡œê·¸ 3ë…„ ì´ìƒ ëœ í•­ëª© ìžë™ ì‚­ì œ', new: '// *2.4_ì•Œë¦¼ ë¡œê·¸ 3ë…„ ì‚­ì œ*' },
  917: { old: '[2] ìžë™ ë§Œë£Œ ì‚­ì œ + ë¡œê·¸(status="ë§Œë£Œë¨") ê¸°ë¡', new: '// *2.4_ë§Œë£Œ ì•Œë¦¼ ì •ë¦¬*' },
  975: { old: '[4] ì•± ë¡œë“œ ì‹œ ë§Œë£Œëœ ì •ê¸° ì•Œë¦¼ ì •ë¦¬', new: '// *2.4_ë§Œë£Œ ì•Œë¦¼ ì´ˆê¸° ì •ë¦¬*' },
  980: { old: '[4] ì•± ë¡œë“œ ì‹œ ê¸‰ì—¬ í‚¤ YYYY-MM í˜•ì‹ í†µì¼', new: '// *2.9_ê¸‰ì—¬ í‚¤ ì •ê·œí™”*' },
  985: { old: '[4] ì§ì› ë¡œê·¸ì¸ ì‹œ PWA + FCM ì™„ì „ í™œì„±í™” (ê´€ë¦¬ìžëŠ” ë¹„í™œì„±í™”)', new: '// *3.0_PWA+FCM ì´ˆê¸°í™”*' },
  1081: { old: '[5] ìžì • ìŠ¤ì¼€ì¤„ëŸ¬: ì¢…ë£Œì¼ ë‹¤ìŒë‚  00ì‹œì— ìžë™ ì‹¤í–‰', new: '// *2.4_ìžì • ìŠ¤ì¼€ì¤„ëŸ¬*' },
  1103: { old: 'ë¸Œë¼ìš°ì € íƒ­ ê°„ ì‹¤ì‹œê°„ ë™ê¸°í™” (storage event) - í•œ ë²ˆë§Œ ë“±ë¡', new: '// *1_ê³µí†µ_íƒ­ ê°„ ë™ê¸°í™”*' },
  1122: { old: 'ì•Œë¦¼ ë°ì´í„° ë³€ê²½ ì‹œ ì§ì› ì•Œë¦¼ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ - ë””ë°”ìš´ìŠ¤ ì ìš©', new: '// *2.4_ì•Œë¦¼ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸*' },
  1131: { old: 'ì˜ˆì•½ ê³µì§€ ìžë™ ê²Œì‹œ ì²´í¬ (1ë¶„ë§ˆë‹¤)', new: '// *2.3_ì˜ˆì•½ ê³µì§€ ìžë™ ê²Œì‹œ*' },
  1161: { old: 'ì—°ì°¨ ê¸°ê°„ ë§Œë£Œ ì²´í¬ ë° ìžë™ ê°±ì‹  (ë§¤ì¼ ì²´í¬)', new: '// *2.6_ì—°ì°¨ ê¸°ê°„ ë§Œë£Œ ì²´í¬*' },
  1403: { old: '    // ì—°ì°¨ ê¸°ê°„ ì´ˆê¸°í™” í•¨ìˆ˜', new: '    // *2.6_ì—°ì°¨ ì´ˆê¸°í™”*' },
  1455: { old: '    // ë‹¤ìŒ ì—°ì°¨ ê¸°ê°„ ê³„ì‚° í•¨ìˆ˜', new: '    // *2.6_ë‹¤ìŒ ì—°ì°¨ ê¸°ê°„ ê³„ì‚°*' },
  1514: { old: 'ë©”ë‰´ ë³€ê²½ì‹œ ê²€ìƒ‰/ìˆ˜ì •/ìž…ë ¥ ìƒíƒœê°’ ì´ˆê¸°í™”', new: '// *2.0_ë©”ë‰´ ë³€ê²½ì‹œ ìƒíƒœ ì´ˆê¸°í™”*' },
  1627: { old: '  const [workTypeSettings, setWorkTypeSettings] = useState({}); // ì¼ë³„ ê·¼ë¬´êµ¬ë¶„ ì„¤ì • (í‰ì¼/íœ´ì¼)', new: '  const [workTypeSettings, setWorkTypeSettings] = useState({});' },
  1654: { old: 'ê±´ì˜ ê´€ë¦¬ ìƒíƒœ', new: '// *2.7_ê±´ì˜ ê´€ë¦¬ ìƒíƒœ*' },
  1664: { old: "    type: '', // 'approve' or 'reject'", new: "    type: ''," },
  1676: { old: 'ì›”ë³„ í‚¤ ìƒì„± í—¬í¼ í•¨ìˆ˜', new: '// *2.9_ì›”ë³„ í‚¤ ìƒì„±*' },
  1679: { old: 'ê¸‰ì—¬ ë°ì´í„° í•´ì‹œ ìƒì„± í•¨ìˆ˜ (ë³€ê²½ ê°ì§€ìš©)', new: '// *2.9_ê¸‰ì—¬ í•´ì‹œ ìƒì„±*' },
  1696: { old: 'ê¸‰ì—¬ í•´ì‹œ ì €ìž¥ì†Œ (ì›”ë³„ í•´ì‹œ ê´€ë¦¬)', new: '// *2.9_ê¸‰ì—¬ í•´ì‹œ ì €ìž¥ì†Œ*' },
  1707: { old: 'ê¸‰ì—¬ëŒ€ìž¥ í…Œì´ë¸” ìƒíƒœ ê´€ë¦¬ - ì›”ë³„ ë§µìœ¼ë¡œ ê´€ë¦¬', new: '// *2.9_ê¸‰ì—¬ëŒ€ìž¥ í…Œì´ë¸”*' },
  1718: { old: 'í˜„ìž¬ ì„ íƒëœ ì›”ì˜ ë°ì´í„° (í•˜ìœ„ í˜¸í™˜ì„± ìœ ì§€)', new: '// *2.9_í˜„ìž¬ ì›” ë°ì´í„°*' },
  1727: { old: 'ì›”ë³„ ë°ì´í„° ì—…ë°ì´íŠ¸ í•¨ìˆ˜ (ì‹¤ì‹œê°„ ë™ê¸°í™”)', new: '// *2.9_ì›”ë³„ ë°ì´í„° ì—…ë°ì´íŠ¸*' },
  1747: { old: 'ê¸°ë³¸ì‹œê°„ ê´€ë¦¬ (209ì‹œê°„ ê³ ì •, íŽ¸ì§‘ ê°€ëŠ¥)', new: '// *2.9_ê¸°ë³¸ì‹œê°„ ê´€ë¦¬*' },
  1754: { old: 'ê¸°ë³¸ì‹œê°„ì„ ëª¨ë“  ì§ì›ì—ê²Œ ì ìš©í•˜ëŠ” í•¨ìˆ˜', new: '// *2.9_ê¸°ë³¸ì‹œê°„ ì¼ê´„ ì ìš©*' },
  1770: { old: 'ì‹œê¸‰ ê¸°ë°˜ ìˆ˜ë‹¹ ê³„ì‚° í•¨ìˆ˜', new: '' }, // ì œê±°
  1771: { old: 'ê¸‰ì—¬ ì—‘ì…€ ë‹¤ìš´ë¡œë“œ í•¨ìˆ˜', new: '// *2.9_ê¸‰ì—¬ ì—‘ì…€ ë‹¤ìš´ë¡œë“œ*' },
  1780: { old: 'í‰ê°€ ê´€ë¦¬ ìƒíƒœ', new: '// *2.10_í‰ê°€ ê´€ë¦¬ ìƒíƒœ*' },
  1787: { old: 'í‰ê°€ ê´€ë¦¬ ë°ì´í„° localStorage ë™ê¸°í™” - ì„±ëŠ¥ ìµœì í™” (ë””ë°”ìš´ìŠ¤)', new: '// *2.10_í‰ê°€ ë°ì´í„° ë™ê¸°í™”*' },
  1796: { old: 'ê¸‰ì—¬ëŒ€ìž¥ ì´ˆê¸°í™” useEffect', new: '// *2.9_ê¸‰ì—¬ëŒ€ìž¥ ì´ˆê¸°í™”*' },
  1803: { old: 'ì§ì› ë°ì´í„°ì™€ ê¸‰ì—¬ëŒ€ìž¥ ì‹¤ì‹œê°„ ë™ê¸°í™” useEffect', new: '// *2.9_ì§ì› ë°ì´í„° ë™ê¸°í™”*' },
  1810: { old: 'ì„±ê³¼ ë°ì´í„°ì— ì§ê¸‰ ì •ë³´ ë§¤ì¹­ í•¨ìˆ˜', new: '// *2.10_í‰ê°€ ë°ì´í„° ì§ê¸‰ ë§¤ì¹­*' },
  1821: { old: 'ê·¼íƒœê´€ë¦¬ í•„í„°ë§ëœ ì§ì› ëª©ë¡', new: '' }, // ì œê±°
  1822: { old: 'ê·¼íƒœ ê´€ë¦¬ í•„í„°ë§ëœ ì§ì› ëª©ë¡ - ì„±ëŠ¥ ìµœì í™”', new: '// *2.8_ê·¼íƒœ í•„í„°ë§ëœ ì§ì› ëª©ë¡*' },
  1869: { old: 'ê¸°ì¡´ í•¨ìˆ˜ëŠ” í˜¸í™˜ì„±ì„ ìœ„í•´ ìœ ì§€ (ìµœì í™”ëœ ë°°ì—´ ë°˜í™˜)', new: '// *2.8_í˜¸í™˜ì„± í•¨ìˆ˜*' },
  1874: { old: 'ê·¼íƒœ í†µê³„ ë°ì´í„° ìµœì í™” - ë©”ëª¨ì´ì œì´ì…˜ìœ¼ë¡œ ì„±ëŠ¥ ê°œì„ ', new: '' }, // ì œê±°
  1875: { old: 'ê¸‰ì—¬ëŒ€ìž¥ í•„í„°ë§ëœ ë°ì´í„° ëª©ë¡', new: '// *2.9_ê¸‰ì—¬ëŒ€ìž¥ í•„í„°ë§ëœ ë°ì´í„°*' },
  1877: { old: 'ê¸‰ì—¬ ê´€ë¦¬ í•„í„°ë§ëœ ë°ì´í„° - ì„±ëŠ¥ ìµœì í™”', new: '' }, // ì œê±° (ë‹¤ìŒ ì¤„ì— í†µí•©)
  1927: { old: 'ê¸°ì¡´ í•¨ìˆ˜ëŠ” í˜¸í™˜ì„±ì„ ìœ„í•´ ìœ ì§€ (ìµœì í™”ëœ ë°°ì—´ ë°˜í™˜)', new: '// *2.9_í˜¸í™˜ì„± í•¨ìˆ˜*' },
  1969: { old: 'END ADMIN', new: '' }, // ì œê±°
  1986: { old: 'AI ëª¨ë¸ ì„ íƒ ìƒíƒœ ê´€ë¦¬', new: '// *2.12_AI ëª¨ë¸ ì„ íƒ*' },
  1989: { old: 'ðŸ¤– í†µí•© AI ì—”ì§„ Config (ë°±ì—”ë“œ server.jsì™€ ë™ê¸°í™”)', new: '// *2.12_í†µí•© AI Config*' },
  1996: { old: 'ðŸ”§ í†µí•© AI ì„¤ì • UIìš© State', new: '// *2.12_AI ì„¤ì • UI*' },
  2004: { old: 'ðŸ” Provider ìžë™ ê°ì§€ í•¨ìˆ˜ (CommonAIService wrapper)', new: '// *2.12_Provider ìžë™ ê°ì§€*' },
  2011: { old: 'ðŸ”„ ì´ˆê¸° ë¡œë“œ ì‹œ ë°±ì—”ë“œì—ì„œ í†µí•© AI ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸°', new: '// *2.12_AI Config ë¡œë“œ*' }
};

// ë¼ì¸ë³„ ì£¼ì„ ë³€ê²½ ì ìš©
for (const [lineNumStr, rule] of Object.entries(commentRules)) {
  const lineNum = parseInt(lineNumStr);
  const idx = lineNum - 1; // 0-based index

  if (idx >= 0 && idx < lines.length) {
    const line = lines[idx];

    if (rule.new === '') {
      // ì£¼ì„ ì œê±°ì¸ ê²½ìš°
      if (line.includes(rule.old)) {
        lines[idx] = lines[idx].replace(new RegExp('\\s*//\\s*' + rule.old.replace(/[.*+?^${}()|[\]\\]/g, '\\$&') + '.*'), '');
        if (lines[idx].trim() === '') {
          lines[idx] = ''; // ì™„ì „ížˆ ë¹ˆ ì¤„ë¡œ
        }
        console.log(`  âœ“ ${lineNum}ì¤„: ì£¼ì„ ì œê±° - "${rule.old}"`);
        changeCount++;
      }
    } else {
      // ì£¼ì„ ë³€ê²½ì¸ ê²½ìš°
      if (line.includes(rule.old)) {
        lines[idx] = line.replace(new RegExp('//\\s*' + rule.old.replace(/[.*+?^${}()|[\]\\]/g, '\\$&') + '.*'), rule.new);
        console.log(`  âœ“ ${lineNum}ì¤„: "${rule.old}" â†’ "${rule.new}"`);
        changeCount++;
      }
    }
  }
}

// íŠ¹ë³„ ì²˜ë¦¬: íŠ¸ë¦¬ êµ¬ì¡° ì£¼ì„ ì œê±° (140-144ì¤„)
console.log('\nðŸ”§ íŠ¸ë¦¬ êµ¬ì¡° ì£¼ì„ ì œê±°...');
for (let i = 139; i <= 143; i++) {
  if (lines[i] && (lines[i].includes('â”œâ”€') || lines[i].includes('â””â”€'))) {
    lines[i] = '';
    changeCount++;
  }
}
console.log('  âœ“ 140-144ì¤„: íŠ¸ë¦¬ êµ¬ì¡° ì£¼ì„ ì œê±°');

// íŠ¹ë³„ ì²˜ë¦¬: "// ê²€ìƒ‰ ìƒíƒœ ì´ˆê¸°í™”" ë“± í•¨ìˆ˜ ë‚´ë¶€ ì£¼ì„ ì œê±° (1516-1598ì¤„)
console.log('\nðŸ”§ í•¨ìˆ˜ ë‚´ë¶€ ì£¼ì„ ì •ë¦¬...');
const internalComments = [
  { line: 1515, pattern: 'ê²€ìƒ‰ ìƒíƒœ ì´ˆê¸°í™”' },
  { line: 1548, pattern: 'ì§ì› ê²€ìƒ‰ ìƒíƒœ ì´ˆê¸°í™”' },
  { line: 1562, pattern: 'ì¸ë¼ì¸ ìˆ˜ì • ìƒíƒœ ì´ˆê¸°í™”' },
  { line: 1578, pattern: 'ê¸°íƒ€ íŽ¸ì§‘ ìƒíƒœ ì´ˆê¸°í™”' },
  { line: 1583, pattern: 'ì •ë ¬ ìƒíƒœ ì´ˆê¸°í™”' },
  { line: 1593, pattern: 'ì—°ì°¨ê´€ë¦¬ íŽ¸ì§‘ ìƒíƒœ ì´ˆê¸°í™”' },
  { line: 1597, pattern: 'ì—°ì°¨ê´€ë¦¬ ë©”ë‰´ ì§„ìž… ì‹œ' },
  { line: 1599, pattern: 'ì‹¤ì œ ì§ì› ê¸°ë°˜ ì¶œê·¼' },
  { line: 1601, pattern: 'attendanceDataëŠ” í˜¸í™˜ì„±' },
  { line: 1608, pattern: 'í˜¸í™˜ì„±ì„ ìœ„í•œ ë”ë¯¸ í•¨ìˆ˜' }
];

internalComments.forEach(({ line, pattern }) => {
  const idx = line - 1;
  if (idx >= 0 && idx < lines.length && lines[idx].includes(pattern)) {
    lines[idx] = lines[idx].replace(new RegExp('\\s*//.*' + pattern.replace(/[.*+?^${}()|[\]\\]/g, '\\$&') + '.*'), '');
    if (lines[idx].trim() === '') lines[idx] = '';
    changeCount++;
  }
});
console.log('  âœ“ í•¨ìˆ˜ ë‚´ë¶€ ì£¼ì„ ì •ë¦¬ ì™„ë£Œ');

// ì—°ì†ëœ ë¹ˆ ì¤„ ì •ë¦¬ (3ê°œ ì´ìƒ â†’ 2ê°œë¡œ)
const cleanedLines = [];
let emptyCount = 0;
for (const line of lines) {
  if (line.trim() === '') {
    emptyCount++;
    if (emptyCount <= 2) {
      cleanedLines.push(line);
    }
  } else {
    emptyCount = 0;
    cleanedLines.push(line);
  }
}

// íŒŒì¼ ì €ìž¥
console.log('\nðŸ’¾ íŒŒì¼ ì €ìž¥ ì¤‘...');
const newContent = cleanedLines.join('\n');
fs.writeFileSync(appPath, newContent, 'utf8');

console.log('âœ“ ì™„ë£Œ\n');
console.log('========================================');
console.log('ðŸ“Š ê²°ê³¼');
console.log('========================================');
console.log('  - ëŒ€ìƒ ë²”ìœ„: 119~1994ì¤„');
console.log('  - ë³€ê²½ ì‚¬í•­: ' + changeCount + 'ê°œ');
console.log('  - ì›ë³¸ ë¼ì¸: ' + lines.length);
console.log('  - ì •ë¦¬ í›„: ' + cleanedLines.length);
console.log('  - ì œê±°ëœ ë¹ˆ ì¤„: ' + (lines.length - cleanedLines.length));
console.log('\nâœ… ëª¨ë“  ì£¼ì„ í‘œì¤€í™” ì™„ë£Œ!');
console.log('ðŸ“ í‘œì¤€í™”ëœ ì£¼ì„ í˜•ì‹:');
console.log('  - *1_ê³µí†µ_ê¸°ëŠ¥ëª…*');
console.log('  - *2.X_ê´€ë¦¬ìž ëª¨ë“œ_ë©”ë‰´ëª…_ê¸°ëŠ¥ëª…*');
console.log('  - *3.X_ì¼ë°˜ì§ì› ëª¨ë“œ_ë©”ë‰´ëª…_ê¸°ëŠ¥ëª…*');
console.log('\në°±ì—… ìœ„ì¹˜: ' + backupPath);
