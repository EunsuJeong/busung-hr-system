const fs = require('fs');
const path = require('path');

console.log('========================================');
console.log('  App.js 4016ì¤„~ë ì£¼ì„ ì™„ì „ í‘œì¤€í™”');
console.log('========================================\n');

const appPath = path.join(__dirname, '../src/App.js');
const backupPath = path.join(__dirname, '../src/App.js.backup.' + Date.now());

// ë°±ì—… ìƒì„±
console.log('ğŸ’¾ ë°±ì—… ìƒì„± ì¤‘...');
fs.copyFileSync(appPath, backupPath);
console.log('âœ“ ë°±ì—…: ' + backupPath + '\n');

// íŒŒì¼ ì½ê¸°
const content = fs.readFileSync(appPath, 'utf8');
const lines = content.split('\n');
console.log('ğŸ“„ ì´ ë¼ì¸ ìˆ˜: ' + lines.length + '\n');

console.log('ğŸ”„ 4016ì¤„~ë ì£¼ì„ í‘œì¤€í™” ì¤‘...\n');

let changeCount = 0;

// ========== ì œê±°í•  ì£¼ì„ íŒ¨í„´ë“¤ (ì½”ë“œ ë‚´ë¶€ ì„¤ëª… ì£¼ì„) ==========
const removePatterns = [
  // 4016-5000ì¤„ ë²”ìœ„
  { line: 4041, pattern: 'í†µí•© AI ì„¤ì • í‚¤ ì‚¬ìš© (ìš°ì„ ìˆœìœ„)' },
  { line: 4060, pattern: 'API Keyê°€ ì—†ê±°ë‚˜ ë“œë¡­ë‹¤ìš´ì—ì„œ í—ˆìš©ë˜ì§€ ì•Šì€ ëª¨ë¸ì´ë©´ ìŠ¤í‚µ' },
  { line: 4080, pattern: 'ì‚¬ìš©ìì—ê²Œ ê²½ê³  (ì„ íƒ ì‚¬í•­)' },
  { line: 4081, pattern: 'alert' },
  { line: 4090, pattern: 'ê´€ë¦¬ìì´ê³  API Keyê°€ ìˆì„ ë•Œë§Œ ìŠ¤í¿ì²´í¬ ì‹¤í–‰' },
  { line: 4148, pattern: 'ìµœì´ˆ 1íšŒë§Œ localStorageì—ì„œ ê¸‰ì—¬ ë°ì´í„° ë¡œë“œ' },
  { line: 4259, pattern: 'ì €ì¥ ì„±ê³µ í›„ ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”' },
  { line: 4368, pattern: 'ì¦‰ì‹œ ì¼ë°˜ì§ì›ë“¤ì—ê²Œ ì•Œë¦¼ ë°œì†¡' },
  { line: 4442, pattern: '[3] ê´€ë¦¬ì ìˆ˜ë™ ì‚­ì œ ì‹œ' },
  { line: 4460, pattern: 'ë¡œê·¸ëŠ” ëˆ„ì ë§Œ' },
  { line: 4463, pattern: 'ì›ë³¸ì—ì„œ ì œê±°' },
  { line: 4479, pattern: 'ê¸°ì¡´ ë°ì´í„° êµ¬ì¡° í˜¸í™˜ì„± ì²˜ë¦¬' },
  { line: 4486, pattern: 'ê¸°ì¡´ ë¬¸ìì—´ í˜•íƒœ' },
  { line: 4500, pattern: 'ë°˜ë³µ ì„¤ì •ê°’ë„ ë¡œë“œ' },
  { line: 4512, pattern: 'ë°˜ë³µ ì„¤ì •ê°’ë„ ë¡œë“œ' },
  { line: 4521, pattern: 'ê¸°ì¡´ ë°ì´í„° êµ¬ì¡° í˜¸í™˜ì„± ì²˜ë¦¬' },
  { line: 4528, pattern: 'ê¸°ì¡´ ë¬¸ìì—´ í˜•íƒœ' },
  { line: 4621, pattern: 'ISO í˜•ì‹ ë˜ëŠ” í•œêµ­ ë‚ ì§œ í˜•ì‹ íŒŒì‹±' },
  { line: 4624, pattern: 'ISO í˜•ì‹' },
  { line: 4627, pattern: 'í•œêµ­ ë‚ ì§œ í˜•ì‹' },
  { line: 4653, pattern: 'í˜„ì¬ ì‚¬ìš©ì ì •ë³´ê°€ ì—†ìœ¼ë©´ ë¹ˆ ë°°ì—´ ë°˜í™˜' },
  { line: 4673, pattern: '"2025-01-02 ì˜¤í›„ 3:45" í˜•ì‹ íŒŒì‹±' },
  { line: 4705, pattern: '5ì¼ ë§Œë£Œ í•„í„°ë§' },
  { line: 4710, pattern: 'ê¸°ë³¸ ìˆ˜ì‹  ì¡°ê±´ í™•ì¸' },
  { line: 4713, pattern: 'ìë™ ì•Œë¦¼ ì¤‘ ë³¸ì¸ ì‹ ì²­ ì•Œë¦¼ì€ ì œì™¸' },
  { line: 4727, pattern: 'ìµœì‹ ìˆœ ì •ë ¬' },
  { line: 4781, pattern: 'localStorageì— ì €ì¥' },
  { line: 4798, pattern: 'localStorageì— ì €ì¥' },
  { line: 4858, pattern: 'ë¬¸ìì—´ í˜•íƒœì˜ recipients' },
  { line: 4863, pattern: 'ê°ì²´ í˜•íƒœì˜ recipients' },
  { line: 4917, pattern: 'ê¸°ì¡´ ë°˜ë³µ ì„¤ì •ê°’' },
  { line: 4924, pattern: 'ê¸°ì¡´ ì„¤ì •ê°’ ìœ ì§€' },
  { line: 4927, pattern: 'ê¸°ë³¸ê°’ ë³´ì¥' },
  { line: 4942, pattern: 'ìƒˆë¡œìš´ ì„¤ì •ì¸ ê²½ìš° ì´ˆê¸°í™”' },
  { line: 4952, pattern: 'ì¶”ê°€ í•„ë“œë“¤ë„ ì´ˆê¸°í™”' },
  { line: 4969, pattern: 'ë°˜ë³µ ì„¤ì •ì„ í˜„ì¬ í¼ì— ì ìš©' },

  // 5000-6000ì¤„ ë²”ìœ„
  { line: 5071, pattern: 'í˜„ì¬ ë‚ ì§œ' },
  { line: 5075, pattern: 'ì •ê¸° ì•Œë¦¼: ì‚¬ìš©ìê°€' },
  { line: 5076, pattern: '- ë°˜ë³µê¸°ê°„ì´' },
  { line: 5077, pattern: '- isAutoGenerated' },
  { line: 5080, pattern: 'ì‹œìŠ¤í…œ ìë™ ìƒì„± ì•Œë¦¼ ì œì™¸' },
  { line: 5084, pattern: 'ë°˜ë³µ ê¸°ê°„ì´ ì¢…ë£Œ' },
  { line: 5094, pattern: 'ì‹¤ì‹œê°„ ì•Œë¦¼ì€ ì•Œë¦¼ ê´€ë¦¬ ì¹´ë“œì—' },
  { line: 5095, pattern: 'ì‚¬ìš©ìê°€ ì§ì ‘ ì‘ì„±í•œ' },
  { line: 5101, pattern: 'í˜„ì¬ ë‚ ì§œ' },
  { line: 5105, pattern: 'ì •ê¸° ì•Œë¦¼: ë°˜ë³µê¸°ê°„' },
  { line: 5117, pattern: '24ì‹œê°„ ì „ ì‹œê°„ ê³„ì‚°' },
  { line: 5121, pattern: 'ì‹¤ì‹œê°„ ì•Œë¦¼: 24ì‹œê°„' },
  { line: 5125, pattern: 'ë‹¤ì–‘í•œ ë‚ ì§œ í˜•ì‹' },
  { line: 5128, pattern: 'ISO í˜•ì‹ì´ë‚˜ í•œêµ­' },
  { line: 5130, pattern: 'ë‚ ì§œ íŒŒì‹±ì´ ì‹¤íŒ¨í•œ' },
  { line: 5151, pattern: 'ì •ê¸° ì•Œë¦¼ì„ ë¨¼ì €' },
  { line: 5157, pattern: '1. recipientCount' },
  { line: 5162, pattern: '2. recipientsê°€ ê°ì²´' },
  { line: 5166, pattern: '2-1. ì „ì²´ ì§ì›' },
  { line: 5171, pattern: '2-2. ë¶€ì„œë³„' },
  { line: 5177, pattern: '2-3. ì§ê¸‰ë³„' },
  { line: 5183, pattern: '2-4. ì§ì±…ë³„' },
  { line: 5189, pattern: '2-5. ê°œì¸ ì„ íƒ' },
  { line: 5197, pattern: '2-6. ê°œì¸' },
  { line: 5199, pattern: 'ì‰¼í‘œë¡œ êµ¬ë¶„ëœ ê²½ìš°' },
  { line: 5208, pattern: '3. recipientsê°€ ë¬¸ìì—´' },
  { line: 5210, pattern: '3-1. íŠ¹ìˆ˜ ì¼€ì´ìŠ¤' },
  { line: 5221, pattern: '3-2. ë¶€ì„œëª…ì¸ì§€' },
  { line: 5227, pattern: '3-3. ì§ê¸‰ëª…ì¸ì§€' },
  { line: 5233, pattern: '3-4. ì§ì±…ëª…ì¸ì§€' },
  { line: 5239, pattern: '3-5. ì‰¼í‘œë¡œ êµ¬ë¶„ëœ' },
  { line: 5249, pattern: '4. ê¸°ë³¸ê°’: ìµœì†Œ' },
  { line: 5257, pattern: 'ë…„ë„ í•„í„°' },
  { line: 5263, pattern: 'ì›” í•„í„°' },
  { line: 5269, pattern: 'ìˆ˜ì‹ ì í•„í„°' },
  { line: 5274, pattern: 'recipientsê°€ ë¬¸ìì—´ì¸ ê²½ìš°' },
  { line: 5278, pattern: 'recipientsê°€ ê°ì²´ì¸ ê²½ìš°' },
  { line: 5289, pattern: 'ì œëª© ë˜ëŠ” ë‚´ìš© í•„í„°' },
  { line: 5298, pattern: 'ì•Œë¦¼ íƒ€ì… í•„í„°' },
  { line: 5310, pattern: 'ì¼ë°˜ ì¼ì • ì´ë²¤íŠ¸' },
  { line: 5312, pattern: 'ë…„ë„ í•„í„°' },
  { line: 5318, pattern: 'ì›” í•„í„°' },
  { line: 5324, pattern: 'ì¼ì • ìœ í˜• í•„í„°' },
  { line: 5329, pattern: 'ì œëª© ë˜ëŠ” ë‚´ìš© í•„í„°' },
  { line: 5353, pattern: 'ë™ì¼í•œ í•„í„°ë§ ì¡°ê±´ ì ìš©' },
  { line: 5379, pattern: 'ì¼ë°˜ ì¼ì •ê³¼ ì»¤ìŠ¤í…€ ê³µíœ´ì¼ í•©ì¹˜ê¸°' },
  { line: 5389, pattern: '1. ëŒ€í‘œ/ëŒ€í‘œ/ëŒ€í‘œ' },
  { line: 5398, pattern: '2. ê´€ë¦¬/ê´€ë¦¬/íŒ€ì¥' },
  { line: 5407, pattern: 'ì¤‘ë³µ ì œê±°' },
  { line: 5418, pattern: '(1) ëŒ€í‘œë¶€ì„œ' },
  { line: 5423, pattern: '(2) ì„ì›ë¶€ì„œ' },
  { line: 5434, pattern: '(3) ì‚¬ë¬´ ì„±ê²© ë¶€ì„œ' },
  { line: 5436, pattern: 'íŒ€ì¥/ë°˜ì¥/ì¡°ì¥ ì§ì±…' },
  { line: 5446, pattern: 'íŒ€ì› ì§ì±…' },
  { line: 5448, pattern: 'ê°™ì€ ë¶€ì„œì˜ íŒ€ì¥' },
  { line: 5457, pattern: 'ëŒ€í‘œ' },
  { line: 5468, pattern: '(4) ì¶œí•˜ ë¶€ì„œ' },
  { line: 5470, pattern: 'íŒ€ì¥/ë°˜ì¥/ì¡°ì¥ ì§ì±…' },
  { line: 5472, pattern: 'ëŒ€í‘œ' },
  { line: 5481, pattern: 'ì˜ì—… ë¶€ì„œ ì „ì›' },
  { line: 5487, pattern: 'íŒ€ì› ì§ì±…' },
  { line: 5489, pattern: 'ëŒ€í‘œ' },
  { line: 5498, pattern: 'ì¶œí•˜ ë¶€ì„œì˜ íŒ€ì¥' },
  { line: 5507, pattern: 'ì˜ì—… ë¶€ì„œ ì „ì›' },
  { line: 5515, pattern: '(5) í˜„ì¥ ì„±ê²© ë¶€ì„œ' },
  { line: 5517, pattern: 'íŒ€ì¥/ë°˜ì¥/ì¡°ì¥ ì§ì±…' },
  { line: 5519, pattern: 'ëŒ€í‘œ' },
  { line: 5528, pattern: 'ì„ì› ë¶€ì„œì˜ ì´ê´„' },
  { line: 5537, pattern: 'íŒ€ì› ì§ì±…' },
  { line: 5539, pattern: 'ê°™ì€ ë¶€ì„œì˜ íŒ€ì¥' },
  { line: 5548, pattern: 'ëŒ€í‘œ' },
  { line: 5557, pattern: 'ì„ì› ë¶€ì„œì˜ ì´ê´„' },
  { line: 5568, pattern: '(5) í˜„ì¥ ì„±ê²© ë¶€ì„œ' },
  { line: 5582, pattern: 'íŒ€ì¥/ë°˜ì¥/ì¡°ì¥ ì§ì±…' },
  { line: 5584, pattern: 'ëŒ€í‘œ' },
  { line: 5593, pattern: 'ì„ì› ë¶€ì„œì˜ ì´ê´„' },
  { line: 5602, pattern: 'ìƒì‚°ê´€ë¦¬ ë¶€ì„œ ì „ì›' },
  { line: 5609, pattern: 'íŒ€ì› ì§ì±…' },
  { line: 5611, pattern: 'ê°™ì€ ì„¸ë¶€ë¶€ì„œì˜ íŒ€ì¥' },
  { line: 5620, pattern: 'ëŒ€í‘œ' },
  { line: 5629, pattern: 'ì„ì› ë¶€ì„œì˜ ì´ê´„' },
  { line: 5638, pattern: 'ìƒì‚°ê´€ë¦¬ ë¶€ì„œ ì „ì›' },
  { line: 5647, pattern: 'ì¤‘ë³µ ì œê±°' },
  { line: 5652, pattern: 'ì‹ ì²­ ì‹œì—ë§Œ ì‹ ì²­ì ë³¸ì¸ì€' },
  { line: 5659, pattern: 'ìŠ¹ì¸/ë°˜ë ¤ ì‹œì—ëŠ” ì‹ ì²­ì ë³¸ì¸ í¬í•¨' },
  { line: 5683, pattern: '1. ê±´ì˜ì‚¬í•­ ìœ í˜•ì´' },
  { line: 5688, pattern: '2. ê±´ì˜ì‚¬í•­ ìœ í˜•ì´' },
  { line: 5690, pattern: 'ëŒ€í‘œì—ê²Œ ì•Œë¦¼' },
  { line: 5699, pattern: 'ìŠ¹ì¸/ë°˜ë ¤ ì‹œì—ë§Œ' },
  { line: 5705, pattern: 'ì‹ ì²­ ì‹œì—ë§Œ ì‹ ì²­ì ë³¸ì¸ì€' },
  { line: 5720, pattern: 'ë¶€ì„œë³„ ê´€ë¦¬ì ì§ì±… ëª©ë¡' },
  { line: 5723, pattern: 'í•´ë‹¹ ë¶€ì„œì˜ ê´€ë¦¬ìë“¤ ì°¾ê¸°' },
  { line: 5734, pattern: 'ëŒ€í‘œì´ì‚¬ ì°¾ê¸°' },
  { line: 5741, pattern: 'ê´€ë¦¬ìë“¤ê³¼ ëŒ€í‘œì´ì‚¬ í•©ì¹˜ê¸°' },
  { line: 5747, pattern: 'ê±´ì˜ì‚¬í•­ ì‹ ì²­ì‹œì—ë§Œ' },
  { line: 5769, pattern: 'ë§ˆì§€ë§‰ ì‹œë„ê°€ ì•„ë‹ˆë©´' },
  { line: 5772, pattern: 'ìµœì¢… ì‹¤íŒ¨ ì‹œ ì½˜ì†”ì—ë§Œ' },
  { line: 5785, pattern: 'ì•Œë¦¼ ëŒ€ìƒì ê²°ì • ë¡œì§' },
  { line: 5788, pattern: 'ì—°ì°¨ ê´€ë ¨ ì•Œë¦¼' },
  { line: 5791, pattern: 'ê±´ì˜ì‚¬í•­ ê´€ë ¨ ì•Œë¦¼' },
  { line: 5794, pattern: 'ì§ì›í‰ê°€/ê¸‰ì—¬ ìˆ˜ì‹  ì•Œë¦¼' },
  { line: 5797, pattern: 'ê¸°íƒ€ ì•Œë¦¼' },
  { line: 5806, pattern: 'UTC ISO í˜•ì‹ createdAt ìƒì„±' },
  { line: 5809, pattern: 'ê° ëŒ€ìƒìì—ê²Œ ì•Œë¦¼ ìƒì„±' },
  { line: 5831, pattern: 'ì•Œë¦¼ ë¡œê·¸ì— ì¶”ê°€' },
  { line: 5834, pattern: 'ì‹¤ì‹œê°„ ì•Œë¦¼ìœ¼ë¡œ ê° ëŒ€ìƒìì—ê²Œ' },
  { line: 5857, pattern: 'ë§Œë£Œ ì²´í¬: 5ì¼ ì§€ë‚œ ì•Œë¦¼ì€' },
  { line: 5862, pattern: 'ì—ëŸ¬ ë°œìƒ ì‹œ throwí•˜ì—¬' },
  { line: 5867, pattern: 'ì¬ì‹œë„ ë¡œì§ ì ìš©' },
];

// í‘œì¤€í™”í•  í•¨ìˆ˜ ì£¼ì„
const standardizeComments = [
  { line: 4039, old: 'ëŒ€ì‹œë³´ë“œ í™œì„±í™” ì‹œ AI ì¶”ì²œì‚¬í•­ ìë™ ë¶„ì„', new: '// *2.1_ëŒ€ì‹œë³´ë“œ AI ì¶”ì²œ ìë™ ë¶„ì„*' },
  { line: 4054, old: 'ëª¨ë¸ ë³€ê²½ ì‹œ ë‚´ë¶€/ì™¸ë¶€ ë°ì´í„° ì ‘ê·¼ ìŠ¤í¿ì²´í¬', new: '// *2.12_ëª¨ë¸ ìŠ¤í¿ì²´í¬*' },
  { line: 4096, old: '[ì§ì›ëª¨ë“œ] ìƒˆ ê³µì§€ì‚¬í•­ í‘¸ì‰¬ ì•Œë¦¼', new: '// *3_ì§ì›ëª¨ë“œ_ê³µì§€ì‚¬í•­ í‘¸ì‹œ*' },
  { line: 4109, old: '[ì§ì›ëª¨ë“œ] ìƒˆ ì•Œë¦¼ í‘¸ì‰¬ ì•Œë¦¼', new: '// *3_ì§ì›ëª¨ë“œ_ì•Œë¦¼ í‘¸ì‹œ*' },
  { line: 4126, old: '[ì§ì›ëª¨ë“œ] ìƒˆ ê¸‰ì—¬ ë‚´ì—­ í‘¸ì‰¬ ì•Œë¦¼', new: '// *3_ì§ì›ëª¨ë“œ_ê¸‰ì—¬ í‘¸ì‹œ*' },
  { line: 4145, old: '[ì§ì›ëª¨ë“œ] ê¸‰ì—¬ ë‚´ì—­ ì´ˆê¸° ë™ê¸°í™”', new: '// *3_ì§ì›ëª¨ë“œ_ê¸‰ì—¬ ì´ˆê¸° ë™ê¸°í™”*' },
  { line: 4166, old: 'ê·¼íƒœê´€ë¦¬ ì—°ë„ ë³€ê²½ ì‹œ í•´ë‹¹ ì—°ë„ ê³µíœ´ì¼ ë°ì´í„° ë¡œë“œ', new: '// *2.8_ê·¼íƒœ ì—°ë„ ë³€ê²½ ì‹œ ê³µíœ´ì¼ ë¡œë“œ*' },
  { line: 4173, old: 'attendanceSheetData ë³€ê²½ ì‹œ localStorageì— ìë™ ì €ì¥', new: '// *2.8_ê·¼íƒœ ë°ì´í„° ìë™ ì €ì¥*' },
  { line: 4188, old: 'ëª¨ë¸ ì„ íƒ ê²€ì¦ í•¨ìˆ˜', new: '// *2.12_ëª¨ë¸ ì„ íƒ ê²€ì¦*' },
  { line: 4198, old: 'ëª¨ë¸ì˜ ë‚´ë¶€/ì™¸ë¶€ ì‘ë‹µ ëŠ¥ë ¥ ìŠ¤í¿ì²´í¬', new: '// *2.12_ëª¨ë¸ ì‘ë‹µ ëŠ¥ë ¥ ìŠ¤í¿ì²´í¬*' },
  { line: 4245, old: 'API Key ì €ì¥ ê³µí†µ í•¨ìˆ˜', new: '// *2.12_API Key ì €ì¥*' },
  { line: 4271, old: 'ì•Œë¦¼ ê´€ë¦¬ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ë“¤', new: '// *2.4_ì•Œë¦¼ í•¸ë“¤ëŸ¬*' },
  { line: 4616, old: '5ì¼ ë§Œë£Œ íŒì • ìœ í‹¸ í•¨ìˆ˜', new: '// *2.4_ì•Œë¦¼ ë§Œë£Œ íŒì •*' },
  { line: 4669, old: 'í•œêµ­ ë‚ ì§œ í˜•ì‹ì„ timestampë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜', new: '// *2.4_ë‚ ì§œ timestamp ë³€í™˜*' },
  { line: 4736, old: 'ì§ì› ì•Œë¦¼ ìë™ ì—…ë°ì´íŠ¸', new: '// *2.4_ì§ì› ì•Œë¦¼ ìë™ ì—…ë°ì´íŠ¸*' },
  { line: 4748, old: 'ì‚¬ìš©ì ë³€ê²½ ì‹œ ì½ìŒ ìƒíƒœ ì´ˆê¸°í™”', new: '// *2.4_ì•Œë¦¼ ì½ìŒ ìƒíƒœ ì´ˆê¸°í™”*' },
  { line: 4777, old: 'ì•Œë¦¼ ì½ìŒ ì²˜ë¦¬ í•¨ìˆ˜', new: '// *2.4_ì•Œë¦¼ ì½ìŒ ì²˜ë¦¬*' },
  { line: 4794, old: 'ê³µì§€ì‚¬í•­ ì½ìŒ ì²˜ë¦¬ í•¨ìˆ˜', new: '// *2.3_ê³µì§€ì‚¬í•­ ì½ìŒ ì²˜ë¦¬*' },
  { line: 4811, old: 'ì½ì§€ ì•Šì€ ì•Œë¦¼ ê°œìˆ˜ ê³„ì‚°', new: '// *2.4_ì½ì§€ ì•Šì€ ì•Œë¦¼ ê°œìˆ˜*' },
  { line: 4818, old: 'ì½ì§€ ì•Šì€ ê³µì§€ì‚¬í•­ ê°œìˆ˜ ê³„ì‚°', new: '// *2.3_ì½ì§€ ì•Šì€ ê³µì§€ì‚¬í•­ ê°œìˆ˜*' },
  { line: 4828, old: 'ìˆ˜ì‹ ì í•„í„°ë§ í•¨ìˆ˜', new: '// *2.4_ì•Œë¦¼ ìˆ˜ì‹ ì í•„í„°ë§*' },
  { line: 4852, old: 'ì•Œë¦¼ ìˆ˜ì‹ ì ì²´í¬ í•¨ìˆ˜', new: '// *2.4_ì•Œë¦¼ ìˆ˜ì‹ ì ì²´í¬*' },
  { line: 4893, old: 'ë°˜ë³µì£¼ê¸° ì˜µì…˜', new: '// *2.4_ë°˜ë³µì£¼ê¸° ì˜µì…˜*' },
  { line: 4904, old: 'ë¶€ì„œ/ì§ê¸‰/ì§ì±… ì˜µì…˜', new: '// *2.4_ë¶€ì„œ/ì§ê¸‰/ì§ì±… ì˜µì…˜*' },
  { line: 4911, old: 'ë°˜ë³µ ì„¤ì • ëª¨ë‹¬ ê´€ë ¨ í•¨ìˆ˜ë“¤', new: '// *2.4_ë°˜ë³µ ì„¤ì • ëª¨ë‹¬*' },
  { line: 5051, old: 'ì§ì› ê²€ìƒ‰ ìƒíƒœ', new: '// *2.4_ì§ì› ê²€ìƒ‰ ìƒíƒœ*' },
  { line: 5055, old: 'ì§ì› ê²€ìƒ‰ ê´€ë ¨ í•¨ìˆ˜ë“¤', new: '// *2.4_ì§ì› ê²€ìƒ‰*' },
  { line: 5069, old: 'ê´€ë¦¬ììš© ì•Œë¦¼ ëª©ë¡ ìƒì„±', new: '// *2.4_ê´€ë¦¬ì ì•Œë¦¼ ëª©ë¡*' },
  { line: 5099, old: 'í†µí•© ì•Œë¦¼ ë¦¬ìŠ¤íŠ¸ ìƒì„±', new: '// *2.4_í†µí•© ì•Œë¦¼ ë¦¬ìŠ¤íŠ¸*' },
  { line: 5155, old: 'ìˆ˜ì‹ ì ìˆ˜ ê³„ì‚° í—¬í¼ í•¨ìˆ˜', new: '// *2.4_ìˆ˜ì‹ ì ìˆ˜ ê³„ì‚°*' },
  { line: 5253, old: 'ì•Œë¦¼ ë¡œê·¸ í•„í„°ë§ í•¨ìˆ˜', new: '// *2.4_ì•Œë¦¼ ë¡œê·¸ í•„í„°ë§*' },
  { line: 5308, old: 'ì¼ì • í•„í„°ë§ í•¨ìˆ˜', new: '// *2.5_ì¼ì • í•„í„°ë§*' },
  { line: 5342, old: 'ì»¤ìŠ¤í…€ ê³µíœ´ì¼ì„ ì´ë²¤íŠ¸ í˜•íƒœë¡œ ë³€í™˜', new: '// *2.5_ì»¤ìŠ¤í…€ ê³µíœ´ì¼ ë³€í™˜*' },
  { line: 5385, old: 'ì—°ì°¨ ê°±ì‹  ì•Œë¦¼ ìˆ˜ì‹ ì ì°¾ê¸° í•¨ìˆ˜', new: '// *2.6_ì—°ì°¨ ê°±ì‹  ì•Œë¦¼ ìˆ˜ì‹ ì*' },
  { line: 5413, old: 'ì—°ì°¨ ì•Œë¦¼ ëŒ€ìƒì ì°¾ê¸° í•¨ìˆ˜', new: '// *2.6_ì—°ì°¨ ì•Œë¦¼ ëŒ€ìƒì*' },
  { line: 5674, old: 'ê±´ì˜ì‚¬í•­ ì•Œë¦¼ ëŒ€ìƒì ì°¾ê¸° í•¨ìˆ˜', new: '// *2.7_ê±´ì˜ì‚¬í•­ ì•Œë¦¼ ëŒ€ìƒì*' },
  { line: 5713, old: 'ë¶€ì„œ ê´€ë¦¬ì ë° ëŒ€í‘œì´ì‚¬ ì°¾ê¸° í•¨ìˆ˜', new: '// *2.7_ë¶€ì„œ ê´€ë¦¬ì ì°¾ê¸°*' },
  { line: 5757, old: 'ì•Œë¦¼ ì¬ì‹œë„ í•¨ìˆ˜', new: '// *2.4_ì•Œë¦¼ ì¬ì‹œë„*' },
  { line: 5781, old: 'ìë™ ì•Œë¦¼ ì „ì†¡ í•¨ìˆ˜', new: '// *2.4_ìë™ ì•Œë¦¼ ì „ì†¡*' },
  { line: 5828, old: 'ì•Œë¦¼ ì „ì†¡ í•¨ìˆ˜ (ì¬ì‹œë„ ì ìš©)', new: '// *2.4_ì•Œë¦¼ ì „ì†¡ (ì¬ì‹œë„)*' },
];

// ì œê±°í•  íŠ¸ë¦¬ êµ¬ì¡° ë¸”ë¡
const removeBlocks = [
  { start: 4989, end: 5003, description: 'ì˜ëª» ë°°ì¹˜ëœ FUNCTIONS ë¸”ë¡' },
];

// ì£¼ì„ ì œê±°
console.log('ğŸ”§ [1/3] ë¶ˆí•„ìš”í•œ ì£¼ì„ ì œê±°...');
for (const item of removePatterns) {
  if (item.line - 1 < lines.length && lines[item.line - 1].includes(item.pattern)) {
    lines[item.line - 1] = '';
    console.log(`  âœ“ ${item.line}ì¤„: "${item.pattern.substring(0, 30)}..." ì œê±°`);
    changeCount++;
  }
}

// ì£¼ì„ í‘œì¤€í™”
console.log('\nğŸ”§ [2/3] í•¨ìˆ˜ ì£¼ì„ í‘œì¤€í™”...');
for (const item of standardizeComments) {
  if (item.line - 1 < lines.length && lines[item.line - 1].includes(item.old)) {
    lines[item.line - 1] = item.new;
    console.log(`  âœ“ ${item.line}ì¤„: "${item.old.substring(0, 30)}..." â†’ í‘œì¤€ í˜•ì‹`);
    changeCount++;
  }
}

// ë¸”ë¡ ì œê±°
console.log('\nğŸ”§ [3/3] ì˜ëª» ë°°ì¹˜ëœ ë¸”ë¡ ì œê±°...');
for (const block of removeBlocks) {
  for (let i = block.start - 1; i < block.end && i < lines.length; i++) {
    lines[i] = '';
  }
  console.log(`  âœ“ ${block.start}-${block.end}ì¤„: ${block.description} ì œê±°`);
  changeCount++;
}

// ì—°ì†ëœ ë¹ˆ ì¤„ ì •ë¦¬ (3ê°œ ì´ìƒ â†’ 2ê°œë¡œ)
const cleanedLines = [];
let emptyCount = 0;
for (const line of lines) {
  if (line.trim() === '') {
    emptyCount++;
    if (emptyCount <= 2) {
      cleanedLines.push(line);
    }
  } else {
    emptyCount = 0;
    cleanedLines.push(line);
  }
}

// íŒŒì¼ ì €ì¥
console.log('\nğŸ’¾ íŒŒì¼ ì €ì¥ ì¤‘...');
const newContent = cleanedLines.join('\n');
fs.writeFileSync(appPath, newContent, 'utf8');

console.log('âœ“ ì™„ë£Œ\n');
console.log('========================================');
console.log('ğŸ“Š ê²°ê³¼');
console.log('========================================');
console.log('  - ëŒ€ìƒ ë²”ìœ„: 4016ì¤„~ë');
console.log('  - ë³€ê²½ ì‚¬í•­: ' + changeCount + 'ê°œ');
console.log('  - ì›ë³¸ ë¼ì¸: ' + lines.length);
console.log('  - ì •ë¦¬ í›„: ' + cleanedLines.length);
console.log('  - ì œê±°ëœ ë¹ˆ ì¤„: ' + (lines.length - cleanedLines.length));
console.log('\nâœ… ì£¼ì„ í‘œì¤€í™” ì™„ë£Œ!');
console.log('ğŸ“ ì£¼ìš” ë³€ê²½ì‚¬í•­:');
console.log('  1. ë¶ˆí•„ìš”í•œ ì„¤ëª… ì£¼ì„ ì œê±° (' + removePatterns.length + 'ê°œ)');
console.log('  2. í•¨ìˆ˜ ì£¼ì„ í‘œì¤€í™” (' + standardizeComments.length + 'ê°œ)');
console.log('  3. ì˜ëª» ë°°ì¹˜ëœ ë¸”ë¡ ì œê±° (' + removeBlocks.length + 'ê°œ)');
console.log('\në°±ì—… ìœ„ì¹˜: ' + backupPath);
